<script setup lang="ts">

import { onMounted, ref } from 'vue';

import CategoryLayout from '@/components/CategoryLayout.vue';

import Breadcrumb from '@/components/Breadcrumb.vue';
import Aside from '@/components/Aside.vue';
import ProductListInfo from '@/components/ProductListInfo.vue';
import ProductList from '@/components/ProductList.vue';
import ProductItem from '@/components/ProductItem.vue';
import Paginator from '@/components/Paginator.vue';

import Item01 from "@/assets/items/item01.png"

/*
æ·»åŠ è³‡æ–™åº« æ›¿æ›ç”¢å“åœ–ç‰‡
*/
import { getProducts } from '@/lib/supabaseClient';

const products = ref();
// const products = [
//     { "id": 0, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 1 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 2 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 3 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 4 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 5 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 6 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 7 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 8 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 8 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 8 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 8 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
//     { "id": 1, name: "ã€ðŸŒ¸ Early Spring ã€‘Manjuè³ªæ„Ÿç¶“å…¸è¥¿è£å¤–å¥—( 8 colors)", img: Item01, price: 2746, label: "æ—©æ˜¥5% OFF âœ¨ " },
// ]

onMounted(async () => {
    products.value = await getProducts();
    console.log(products);
})

</script>

<template>
    <CategoryLayout>
        <template #breadcrumb>
            <Breadcrumb></Breadcrumb>
        </template>
        <template #aside>
            <Aside></Aside>
        </template>
        <template #main>
            <ProductListInfo></ProductListInfo>

            <ProductList :items="products" :grid-template-columns="`repeat(auto-fill, minmax(0px, 240px))`">
                <template #default="{ item }">
                    <ProductItem :item="item" :width="`200px`">
                        <template #label-content>{{ item.label }}</template>
                    </ProductItem>
                </template>
            </ProductList>

            <div class="product-list-paginator">
                <Paginator></Paginator>
            </div>
        </template>
    </CategoryLayout>


</template>

<style scoped>
.product-list-paginator {
    text-align: center;
    padding-top: 72px;
}
</style>
